<!DOCTYPE html>
<html lang="en">
<head>
    <title>Login</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="keywords" content="" />
    <script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
    <!-- bootstrap-css -->
    <link href="../css/bootstrap.css" rel="stylesheet" type="text/css" media="all" />
    <!--// bootstrap-css -->
    <!-- css -->
    <link rel="stylesheet" href="../css/style.css" type="text/css" media="all" />
    <link href="../css/easy-responsive-tabs.css" rel="stylesheet" type="text/css" media="all" />
    <!--// css -->
    <!-- font-awesome icons -->
    <link rel="stylesheet" href="../css/font-awesome.min.css" />
    <!-- //font-awesome icons -->
    <script type="text/javascript" src="../js/jquery-2.1.4.min.js"></script>

</head>
<body>
<!-- contact -->
<div id="contact">
    <div class="w3-head-all">
        <h3><sup><img src="../images/logo.png" alt="images"></sup>Login</h3>
    </div>
    <div class="container"style="padding-left:380px;">
        <div class="col-md-6" >
            <div class="form-bg-w3ls">
                <form action="#" method="post">
                    <input type="text" id="name" placeholder="name" required=""style="background-color:#FF9966;border-radius:5px; height:50px;">
                    <input type="text" id="password" placeholder="password" required=""style="background-color:#FF9966;border-radius:5px; height:50px; margin-bottom:80px;">
                    <div class="start wow flipInX"  data-wow-duration="1s" data-wow-delay=".3s">
                        <button type="button" onclick="login()" style="background: #bd062a; font-size: 1em;color: #fff;text-decoration: none;border:0;width:100px;height:50px;
    text-transform: uppercase;">登录
                        </button>
                    </div>
                </form>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</div>
<!-- //contact -->
<script src="../js/bootstrap.js"></script>
<script>
    function login() {
        var params = "User=" + document.getElementById('id_username').value + "&Password=" + document.getElementById('id_password').value;
        var xhr = new XMLHttpRequest();
        xhr.onreadystatechange = function () {
            if (xhr.readyState == 4) {  /*所有数据已经就绪*/
                if ((xhr.status >= 200 && xhr.status < 300) || xhr.status == 304) {
                    if (xhr.responseText.indexOf("http")!= -1) {
                        top.location.href = xhr.responseText;
                    } else {
                        alert(xhr.responseText);
                    }
                } else {
                    alert("response was unsuccessful: " + xhr.status);
                }
            }
        };
        console.log(params);
        xhr.open("POST", "http://localhost:3000/login", true);
        xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        xhr.send(params);
    }
</script>
</body>
</html>